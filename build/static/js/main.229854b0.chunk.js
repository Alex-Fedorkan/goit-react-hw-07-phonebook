(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{23:function(t,e,n){t.exports={list:"ContactList_list__1ThSd"}},35:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c,r,a,o=n(1),u=n(0),i=n.n(u),s=n(12),b=n.n(s),j=n(7),l=(n(34),n(35),n(3)),f=n(4),d=n(21),O=n.n(d),m=n(9),h=n(2),p=n(5),x=Object(f.b)("contacts/fetchContactsRequest"),C=Object(f.b)("contacts/fetchContactsSuccess"),v=Object(f.b)("contacts/fetchContactsError"),y=Object(f.b)("contacts/addContactRequest"),_=Object(f.b)("contacts/addContactSuccess"),N=Object(f.b)("contacts/addContactError"),g=Object(f.b)("contacts/deleteContactRequest"),q=Object(f.b)("contacts/deleteContactSuccess"),w=Object(f.b)("contacts/deleteContactError"),E=Object(f.b)("contacts/changeFilter"),k=Object(f.c)([],(c={},Object(h.a)(c,C,(function(t,e){return e.payload})),Object(h.a)(c,_,(function(t,e){var n=e.payload;return[].concat(Object(l.a)(t),[n])})),Object(h.a)(c,q,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),F=Object(f.c)("",Object(h.a)({},E,(function(t,e){return e.payload}))),S=Object(f.c)(!1,(r={},Object(h.a)(r,x,(function(){return!0})),Object(h.a)(r,C,(function(){return!1})),Object(h.a)(r,v,(function(){return!1})),Object(h.a)(r,y,(function(){return!0})),Object(h.a)(r,_,(function(){return!1})),Object(h.a)(r,N,(function(){return!1})),Object(h.a)(r,g,(function(){return!0})),Object(h.a)(r,q,(function(){return!1})),Object(h.a)(r,w,(function(){return!1})),r)),L=Object(f.c)(null,(a={},Object(h.a)(a,v,(function(t,e){return e.payload})),Object(h.a)(a,N,(function(t,e){return e.payload})),Object(h.a)(a,w,(function(t,e){return e.payload})),a)),P=Object(p.c)({items:k,filter:F,isLoading:S,error:L}),T=[].concat(Object(l.a)(Object(f.d)({serializableCheck:{ignoredActions:[m.a,m.f,m.b,m.c,m.d,m.e]}})),[O.a]),A=Object(f.a)({reducer:P,middleware:T,devTools:!1}),B=(n(36),n(18)),J=n(22),D=n(13),R=function(t){return t.items},I=function(t){return t.filter},z=Object(D.a)([R,I],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),M="http://localhost:7070/contacts",Q=function(){return fetch(M).then((function(t){return t.ok?t.json():Promise.reject(new Error("Bad request!"))}))},V=function(t){return fetch(M,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.ok?t.json():Promise.reject(new Error("Bad request!"))}))},W=function(t){return fetch("".concat(M,"/").concat(t),{method:"DELETE"}).then((function(t){if(!t.ok)return Promise.reject(new Error("Bad request!"))}))},X=n(8),Y=n.n(X),$=function(){var t,e=Object(j.c)(R),n=Object(j.b)(),c=Object(B.b)(),r=c.register,a=c.control,u=c.handleSubmit,i=c.errors,s=c.reset;return Object(o.jsxs)("form",{className:Y.a.form,onSubmit:u((function(t){var c=t.name,r=t.number;if(e.find((function(t){return t.name.toLowerCase()===c.toLowerCase()})))return alert("".concat(c," is already in contacts.")),void s({name:"",number:""});n(function(t){return function(e){e(y()),V(t).then((function(t){return e(_(t))})).catch((function(t){return e(N(t))}))}}({name:c,number:r})),s({name:"",number:""})})),autoComplete:"off",children:[Object(o.jsx)("label",{className:Y.a.label,htmlFor:"name",children:"Name"}),Object(o.jsx)("input",{className:Y.a.input,name:"name",type:"text",ref:r({required:!0})}),i.name&&Object(o.jsx)("p",{className:Y.a.text,children:"This field is required!"}),Object(o.jsx)("label",{className:Y.a.label,htmlFor:"number",children:"Number"}),Object(o.jsx)(B.a,{name:"number",control:a,defaultValue:!1,rules:{required:!0,pattern:/^\+380\s\(([0-9]{2})\)\s([0-9]{3})-([0-9]{4})$/},render:function(t){var e=t.value,n=t.onChange;return Object(o.jsx)(J.a,{className:Y.a.input,type:"tel",format:"+380 (##) ###-####",mask:"_",allowEmptyFormatting:!0,value:e,onChange:n})}}),i.number&&Object(o.jsx)("p",{className:Y.a.text,children:"This field is required!"}),"pattern"===(null===(t=i.number)||void 0===t?void 0:t.type)&&Object(o.jsx)("p",{className:Y.a.text,children:"Phone number is not valid!"}),Object(o.jsx)("button",{className:Y.a.btn,type:"submit",children:"Add contact"})]})},G=function(t){var e=t.id,n=t.name,c=t.number,r=t.deleteContact;return Object(o.jsxs)("li",{children:[n,": ",c,Object(o.jsx)("button",{type:"button",onClick:function(){return r(e)},children:"Delete"})]})},H=n(23),K=n.n(H),U=function(){var t=Object(j.c)(z),e=Object(j.b)();return Object(u.useEffect)((function(){e((Q(),function(t){t(x()),Q().then((function(e){return t(C(e))})).catch((function(e){return t(v(e))}))}))}),[e]),Object(o.jsx)("ul",{className:K.a.list,children:t.map((function(t){var n=t.id,c=t.name,r=t.number;return Object(o.jsx)(G,{id:n,name:c,number:r,deleteContact:function(t){return e((n=t,function(t){t(g()),W(n).then((function(){return t(q(n))})).catch((function(e){return t(w(e))}))}));var n}},n)}))})},Z=function(){var t=Object(j.c)(I),e=Object(j.b)();return Object(o.jsxs)("label",{children:["Find contacts by name",Object(o.jsx)("input",{type:"text",value:t,onChange:function(t){return e(E(t.target.value))}})]})},tt=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h1",{children:"Phonebook"}),Object(o.jsx)($,{}),Object(o.jsx)("h2",{children:"Contacts"}),Object(o.jsx)(Z,{}),Object(o.jsx)(U,{})]})};b.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(j.a,{store:A,children:Object(o.jsx)(tt,{})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__1WiYD",label:"ContactForm_label__38fIA",input:"ContactForm_input__1pXP4",btn:"ContactForm_btn__1qqQv",text:"ContactForm_text__3q1Jx"}}},[[38,1,2]]]);
//# sourceMappingURL=main.229854b0.chunk.js.map